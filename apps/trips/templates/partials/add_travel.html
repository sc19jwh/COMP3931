<!DOCTYPE html>
<html>
    <head>
        {% load static %}
        <link rel="shortcut icon" type="image/png" href="{% static 'images/logo.ico' %}"/>
        <!--  Load in css file generated by tailwind css  -->
        <link rel="stylesheet" href="{% static 'css/output.css' %}">
    </head>
    <body>
        <div id="container" class="animate-fadeIn fixed top-0 bottom-0 left-0 right-0 bg-black bg-opacity-50 flex flex-col items-center">
        <div class="animate-zoomIn w-4/5 mt-10 bg-white rounded-lg shadow-lg">
            <div class="m-2 hover: cursor-pointer">
                <svg _="on click remove #container" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>
                </svg>
            </div>
            <div class="px-10 pb-10 pt-1 justify-center grid grid-cols-1 md:grid-cols-2 gap-10">
                <div id="map_section" hx-get="{% url 'get_travel_map' %}?start={{start}}&end={{end}}" hx-trigger="load" class="w-full" name="summarymap">
                    <!-- Map inserted here -->
                </div>
                <div>
                    {% if shortest == least %}
                    <form class="flex flex-col" hx-post="" hx-target="body">
                        <input type="hidden" name="add_travel_form">
                        <div class="flex flex-row">
                            <input hx-get="{% url 'get_route_map' %}?route={{shortest}}" hx-trigger="change" hx-target="#map_section" type="radio" id="shortest" name="route_selection" value="{{shortest}}">
                            <label for="shortest" class="ml-2">
                                <div class="items-center p-2 bg-gray-50 rounded-lg shadow w-full font-serif mt-4">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-train-front" viewBox="0 0 16 16">
                                        <path d="M5.621 1.485c1.815-.454 2.943-.454 4.758 0 .784.196 1.743.673 2.527 1.119.688.39 1.094 1.148 1.094 1.979V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V4.583c0-.831.406-1.588 1.094-1.98.784-.445 1.744-.922 2.527-1.118Zm5-.97C8.647.02 7.353.02 5.38.515c-.924.23-1.982.766-2.78 1.22C1.566 2.322 1 3.432 1 4.582V13.5A2.5 2.5 0 0 0 3.5 16h9a2.5 2.5 0 0 0 2.5-2.5V4.583c0-1.15-.565-2.26-1.6-2.849-.797-.453-1.855-.988-2.779-1.22ZM5 13a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm0 0a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm7 1a1 1 0 1 0-1-1 1 1 0 1 0-2 0 1 1 0 0 0 2 0 1 1 0 0 0 1 1ZM4.5 5a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h3V5h-3Zm4 0v3h3a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-3ZM3 5.5A1.5 1.5 0 0 1 4.5 4h7A1.5 1.5 0 0 1 13 5.5v2A1.5 1.5 0 0 1 11.5 9h-7A1.5 1.5 0 0 1 3 7.5v-2ZM6.5 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3Z"/>
                                    </svg>
                                    <p>{{shortest}}</p>
                                </div>
                            </label>
                        </div>
                        <!-- Hidden fields to store start and end destination ids -->
                        <input type = "text" value="{{start_dest.id}}" name="start_id" hidden>
                        <input type = "text" value="{{end_dest.id}}" name="end_id" hidden>
                        <!-- Button to submit form - post with start and end destinations and route -->
                        <button type="submit" class="text-center mt-4 w-1/5 px-5 py-2 font-serif text-white bg-custom-50 hover:bg-custom-100 font-medium rounded-lg text-sm">
                            Save
                        </button>
                    </form>
                    {% else %}
                        <form class="flex flex-col" hx-post="" hx-target="body">
                            <input type="hidden" name="add_travel_form">
                            <div class="flex flex-row">
                                <input class="hover:cursor-pointer" hx-get="{% url 'get_route_map' %}?route={{shortest}}" hx-trigger="change" hx-target="#map_section" type="radio" id="shortest" name="route_selection" value="{{shortest}}">
                                <label for="shortest" class="ml-2 hover:cursor-pointer">
                                    <div class="items-center p-2 bg-gray-50 rounded-lg shadow w-full font-serif mt-4">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-stopwatch" viewBox="0 0 16 16">
                                            <path d="M8.5 5.6a.5.5 0 1 0-1 0v2.9h-3a.5.5 0 0 0 0 1H8a.5.5 0 0 0 .5-.5V5.6z"/>
                                            <path d="M6.5 1A.5.5 0 0 1 7 .5h2a.5.5 0 0 1 0 1v.57c1.36.196 2.594.78 3.584 1.64a.715.715 0 0 1 .012-.013l.354-.354-.354-.353a.5.5 0 0 1 .707-.708l1.414 1.415a.5.5 0 1 1-.707.707l-.353-.354-.354.354a.512.512 0 0 1-.013.012A7 7 0 1 1 7 2.071V1.5a.5.5 0 0 1-.5-.5zM8 3a6 6 0 1 0 .001 12A6 6 0 0 0 8 3z"/>
                                        </svg>
                                        <p>{{shortest}}</p>
                                    </div>
                                </label>
                            </div>
                            <div class="flex flex-row">
                                <input class="hover:cursor-pointer" hx-get="{% url 'get_route_map' %}?route={{least}}" hx-trigger="change" hx-target="#map_section" type="radio" id="least" name="route_selection" value="{{least}}">
                                <label for="least" class="ml-2 hover:cursor-pointer">
                                    <div class="items-center p-2 bg-gray-50 rounded-lg shadow w-full font-serif mt-4">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-train-front" viewBox="0 0 16 16">
                                            <path d="M5.621 1.485c1.815-.454 2.943-.454 4.758 0 .784.196 1.743.673 2.527 1.119.688.39 1.094 1.148 1.094 1.979V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V4.583c0-.831.406-1.588 1.094-1.98.784-.445 1.744-.922 2.527-1.118Zm5-.97C8.647.02 7.353.02 5.38.515c-.924.23-1.982.766-2.78 1.22C1.566 2.322 1 3.432 1 4.582V13.5A2.5 2.5 0 0 0 3.5 16h9a2.5 2.5 0 0 0 2.5-2.5V4.583c0-1.15-.565-2.26-1.6-2.849-.797-.453-1.855-.988-2.779-1.22ZM5 13a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm0 0a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm7 1a1 1 0 1 0-1-1 1 1 0 1 0-2 0 1 1 0 0 0 2 0 1 1 0 0 0 1 1ZM4.5 5a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h3V5h-3Zm4 0v3h3a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-3ZM3 5.5A1.5 1.5 0 0 1 4.5 4h7A1.5 1.5 0 0 1 13 5.5v2A1.5 1.5 0 0 1 11.5 9h-7A1.5 1.5 0 0 1 3 7.5v-2ZM6.5 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3Z"/>
                                        </svg>
                                        <p>{{least}}</p>
                                    </div>
                                </label>
                            </div>
                            <!-- Hidden fields to store start and end destination ids -->
                            <input type = "text" value="{{start_dest.id}}" name="start_id" hidden>
                            <input type = "text" value="{{end_dest.id}}" name="end_id" hidden>
                            <!-- Button to submit form - post with start and end destinations and route -->
                            <button type="submit" class="text-center mt-4 w-1/5 px-5 py-2 font-serif text-white bg-custom-50 hover:bg-custom-100 font-medium rounded-lg text-sm">
                                Save
                            </button>
                        </form>
                    {% endif %}
                </div>
            </div>      
        </div>
    </body>
</html>