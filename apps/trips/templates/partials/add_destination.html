<!DOCTYPE html>
<html>
    <head>
        {% load static %}
        <link rel="shortcut icon" type="image/png" href="{% static 'images/logo.ico' %}"/>
        <!--  Load in css file generated by tailwind css  -->
        <link rel="stylesheet" href="{% static 'css/output.css' %}">
    </head>
    <body>
        <div id="container" class="animate-fadeIn fixed top-0 bottom-0 left-0 right-0 bg-black bg-opacity-50 flex flex-col items-center">
        <div class="animate-zoomIn w-3/5 mt-10 bg-white rounded-lg shadow-lg">
            <div class="m-2 hover: cursor-pointer">
                <svg _="on click remove #container" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>
                </svg>
            </div>
            <div class="px-10 pb-10 pt-1 justify-center grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <form class="text-center" hx-post="" hx-target="body">
                        <!-- Invisible field identify which form -->
                        <input type="hidden" name="add_destination_form" value="1">
                        <select name="country" hx-get="{% url 'find_cities' %}" hx-trigger="change" hx-target="#cities" class="w-full text-center font-serif bg-gray-50 border border-gray-300 text-black text-sm rounded-lg block p-2 mb-4">
                            <option disabled selected>--- Select a country ---</option>
                            {% for country in countries%}
                                <option value="{{country.pk}}">{{country.name}}</option>
                            {% endfor %}
                        </select>
                        <div id="cities">
                            <select disabled name="city" class="w-full text-center font-serif bg-gray-50 border border-gray-300 text-black text-sm rounded-lg block p-2 mb-4">
                                <option>--- Select a city ---</option>
                            </select>
                        </div>
                        <div class="flex flex-row justify-center">
                            <div class="mr-2">
                                <input hx-get="{% url 'dependent_dates' %}" min="{{min_date}}" hx-trigger="change" hx-target="#end_date_div" type="date" name="start_date" placeholder="Start date" class="w-full text-center font-serif bg-gray-50 border border-gray-300 text-black text-sm rounded-lg block p-2 mb-4" />
                            </div>
                            <div id="end_date_div" class="ml-2">
                                <input disabled type="date" name="end_date" placeholder="End date" class="w-full text-center font-serif bg-gray-50 border border-gray-300 text-black text-sm rounded-lg block p-2 mb-4" />
                            </div>
                        </div>
                        <button class="px-5 py-2 font-serif w-2/3 text-white bg-custom-50 hover:bg-custom-100 font-medium rounded-lg text-sm">Add destination</button>
                    </form>
                </div>
                <div id="map_section" hx-get="{% url 'full_map' %}" hx-trigger="load" class="w-full" name="summarymap">
                    <!-- Map inserted here -->
                </div>
            </div>      
        </div>
    </body>
</html>